# 茶思屋 Markdown 导入助手（Chrome浏览器扩展） - 使用说明

## 📖 简介

**茶思屋 Markdown 导入助手** 是一款简化 [Chaspark (茶思屋)](https://www.chaspark.com) 网站发布文章操作步骤的 Chrome 浏览器扩展（同样适用于 Edge 浏览器）。它能够自动将本地 Markdown 文件及其引用的图片一键上传到茶思屋富文本编辑器中，大大简化了内容发布流程。

### ✨ 主要功能

- 📝 自动读取并解析 Markdown 文件
- 🖼️ 自动上传 Markdown 中引用的本地图片
- 🔄 自动替换图片链接为茶思屋 CDN 地址
- 🎨 将 Markdown 转换为 HTML 并填充到编辑器
- 🚀 支持两种导入模式：文件选择模式和项目目录模式

---

## 🔧 安装步骤

### 1. 下载扩展文件

确保你已经获得了扩展程序的完整文件夹（`chrome-extension`），其中应包含以下文件：

```
chrome-extension/
├── manifest.json       # 扩展配置文件
├── background.js       # 后台脚本
├── loader.js          # 加载器脚本
├── main.js            # 主功能脚本
└── styles.css         # 样式文件
```

### 2. 在 Chrome 中加载扩展

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 在右上角开启「**开发者模式**」
4. 点击左上角的「**加载已解压的扩展程序**」按钮
5. 选择 `chrome-extension` 文件夹
6. 安装完成！你应该能在扩展栏看到「茶思屋 Markdown 导入助手」

### 3. 固定扩展图标（推荐）

点击 Chrome 工具栏右上角的拼图图标 🧩，找到「茶思屋 Markdown 导入助手」，点击固定图标📌，方便日后快速访问。

---

## 📚 使用指南

### 前置条件

1. **登录茶思屋账号**：在使用扩展前，请先在浏览器中登录 [Chaspark](https://www.chaspark.com)
2. **打开编辑器页面**：进入茶思屋的文章编辑页面（一般是创建新文章或编辑现有文章的页面）

### 使用方式

#### 方式一：文件选择模式（推荐）

适合场景：Markdown 文件和图片分别存放在不同位置

1. 在茶思屋编辑器页面，点击 Chrome 工具栏中的扩展图标
2. 在弹出的面板中，确保选择「**方式1：选择文件**」标签
3. **步骤 1**：点击「选择 Markdown 文件」，选择你的 `.md` 文件
4. **步骤 2**（可选）：如果你的 Markdown 引用了本地图片（如 `![](assets/image.png)`），点击「选择图片根目录」，选择包含图片的目录
   - 提示：如果你的图片在 `assets` 文件夹中，选择包含 `assets` 文件夹的父目录
5. 点击「**开始上传并填充**」按钮
6. 等待上传完成，扩展会自动：
   - 上传所有本地图片到茶思屋 CDN
   - 替换图片链接
   - 将内容填充到编辑器

#### 方式二：项目目录模式（一键导入）

适合场景：Markdown 文件和图片都在同一个项目目录中

1. 在茶思屋编辑器页面，点击扩展图标
2. 切换到「**方式2：选择项目目录**」标签
3. 点击「选择项目根目录」，选择包含 `.md` 文件和图片资源的整个项目文件夹
   - 扩展会自动查找目录中的第一个 `.md` 文件
   - 自动识别并上传引用的图片
4. 点击「**开始上传并填充**」按钮
5. 等待处理完成



## ⚠️ 注意事项

### 图片路径要求

1. **相对路径**：Markdown 中的图片应使用相对路径，例如：
   ```markdown
   ![描述](assets/image.png)
   ![](./images/photo.jpg)
   ```

2. **文件夹结构**：确保选择的图片根目录能够正确匹配 Markdown 中的相对路径


## 🔒 隐私与安全

- 本扩展仅在茶思屋网站（`https://www.chaspark.com/*`）上运行
- 不会收集或上传任何个人数据
- 图片上传使用茶思屋非正式 API
- 所有处理都在本地浏览器中完成
